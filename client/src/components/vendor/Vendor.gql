fragment basicVendorFields on vendor {
	id # id: Int!
	name # name: String!
	url # url: String
	account_id # account_id: String
}
fragment objectVendorFields on vendor {
	manufacturer {
		id
	}
	orders {
		...basicOrderFields
	}
	vendor_items {
		id
		item_id
		vendor_sku
	}
}

fragment basicVendorItemFields on vendor_item {
	id # id: Int
	item_id # item_id: Int
	vendor_id # vendor_id: Int
	vendor_sku # vendor_sku: String
}

query GetVendors {
	vendor(order_by: { id: asc }) {
		...basicVendorFields
		manufacturer {
			id
		}
	}
}


query GetVendor($id: Int!) {
	vendor: vendor_by_pk(id: $id) {
		...basicVendorFields
		...objectVendorFields
	}
}


query GetVendorItems {
	vendor_item {
		...basicVendorItemFields
	}
}

query SearchVendors($search_string: String) {
	vendor(order_by: { id: asc }, where: { name: { _ilike: $search_string }}) {
        ...basicVendorFields
    }
}

mutation InsertVendor(
$account_id: String
$name: String!
$manufacturer: manufacturer_arr_rel_insert_input
$url: String!
) {
    vendor: insert_vendor_one(
    object: {
        account_id: $account_id
        name: $name
        manufacturer: $manufacturer
        url: $url
    }
    ) {
        ...basicVendorFields
    }
}

mutation UpdateVendor (
$id: Int!
$account_id: String
$name: String!
$url: String!
) {
    vendor: update_vendor_by_pk(
    pk_columns: {
        id: $id, 
    }
    _set: {
        account_id: $account_id, 
        name: $name, 
        url: $url
    }
    ) {
        ...basicVendorFields
        ...objectVendorFields
    }
}


mutation DeleteVendor (
$id: Int!
) {
    delete_vendor_by_pk(id: $id) {
        ...basicVendorFields
    }
}



# ## manufacturer

fragment basicManufacturerFields on manufacturer {
    id # Int
    name # String
    url # String
    vendor_id # Int
}

mutation InsertManufacturer (
$name: String!
$url: String
$vendor_id: Int
) {
    insert_manufacturer_one(object: {
        name: $name
        url: $url
        vendor_id: $vendor_id
    }) {
        ...basicManufacturerFields
    }
}

mutation DeleteManufacturer (
$id: Int!
) {
    delete_manufacturer_by_pk(id: $id) {
        ...basicManufacturerFields
    }
}